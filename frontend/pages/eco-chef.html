<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eco-Chef: Sustainable Meal Planner | EcoLife</title>
    <meta name="description" content="Cook delicious meals while reducing your carbon footprint with our sustainable meal planner.">
    <link rel="icon" type="image/png" href="../assets/images/others/FAVICON.webp">

    <!-- CSS Files -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/components/navbar.css">
    <link rel="stylesheet" href="../css/components/footer.css">
    <link rel="stylesheet" href="../css/pages/eco-chef.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Theme Style Block -->
    <style>
        :root {
            --bg-primary: #f8f9fa;
            --text-primary: #212529;
            --primary-color: #2e7d32;
            --primary-gradient: linear-gradient(135deg, #2e7d32 0%, #4caf50 100%);
            --accent-color: #ff9800;
        }

        .dark-theme {
            --bg-primary: #121212;
            --text-primary: #e0e0e0;
            --primary-gradient: linear-gradient(135deg, #388e3c 0%, #66bb6a 100%);
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
        }

        .theme-toggle {
            position: fixed;
            top: 120px;
            right: 20px;
            z-index: 1000;
        }

        .theme-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary-gradient);
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease;
        }

        .theme-btn:hover {
            transform: scale(1.1);
        }
    </style>
</head>

<body>
    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button class="theme-btn" id="themeToggle" aria-label="Toggle theme">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <!-- Mouse Trail Container -->
    <div id="cursor-container"></div>

    <!-- Navbar Placeholder -->
    <div id="navbar-container"></div>

    <!-- Hero Section -->
    <header class="eco-chef-hero">
        <div class="section-container">
            <div class="hero-content">
                <h1 class="hero-title">Eco-Chef</h1>
                <p class="hero-subtitle">Your sustainable kitchen companion. Cook delicious meals, slash your carbon footprint, and reduce food waste.</p>
                <div class="hero-stats">
                    <div class="stat">
                        <i class="fas fa-leaf"></i>
                        <span>Reduce CO₂ by up to 40%</span>
                    </div>
                    <div class="stat">
                        <i class="fas fa-recycle"></i>
                        <span>Cut food waste by 60%</span>
                    </div>
                    <div class="stat">
                        <i class="fas fa-dollar-sign"></i>
                        <span>Save on grocery bills</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="section-container">
        <!-- Features Grid -->
        <div class="features-grid">
            <div class="feature-card" data-target="fridgeAudit">
                <div class="feature-icon">
                    <i class="fa-solid fa-carrot"></i>
                </div>
                <h3>Fridge Audit</h3>
                <p>Turn leftovers into delicious meals</p>
                <div class="feature-badge">Zero Waste</div>
            </div>
            <div class="feature-card" data-target="seasonal">
                <div class="feature-icon">
                    <i class="fa-solid fa-calendar-check"></i>
                </div>
                <h3>Seasonal Eating</h3>
                <p>Fresh, local, and sustainable</p>
                <div class="feature-badge">Low Carbon</div>
            </div>
            <div class="feature-card" data-target="shoppingList">
                <div class="feature-icon">
                    <i class="fa-solid fa-list-check"></i>
                </div>
                <h3>Smart Shopping</h3>
                <p>Organized and efficient</p>
                <div class="feature-badge">Time Saver</div>
            </div>
        </div>

        <!-- Tool Sections Container -->
        <div class="tools-container">
            <!-- Tool: Fridge Audit (Recipe Finder) -->
            <section id="fridgeAudit" class="tool-section active">
                <div class="tool-header">
                    <h2><i class="fas fa-carrot"></i> Recipe Finder & Fridge Audit</h2>
                    <p>Enter up to 3 ingredients you have on hand to find sustainable recipes</p>
                </div>

                <div class="input-group-container">
                    <div class="input-group">
                        <div class="input-with-icon">
                            <i class="fas fa-search"></i>
                            <input type="text" id="fridgeIngredients" placeholder="e.g. Tomato, Spinach, Rice, Chicken..."
                                aria-label="Enter ingredients you have">
                        </div>
                        <div class="input-hint">
                            <i class="fas fa-lightbulb"></i> Tip: Start with perishable items first
                        </div>
                    </div>
                    
                    <div class="filter-options">
                        <label for="dietPreference">Diet:</label>
                        <select id="dietPreference">
                            <option value="any">Any Diet</option>
                            <option value="vegetarian">Vegetarian</option>
                            <option value="vegan">Vegan</option>
                            <option value="low-carb">Low Carb</option>
                        </select>
                        
                        <label for="cookingTime">Max Time:</label>
                        <select id="cookingTime">
                            <option value="any">Any Time</option>
                            <option value="30">30 min</option>
                            <option value="45">45 min</option>
                            <option value="60">60 min</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-primary btn-large" id="findRecipesBtn">
                    <i class="fa-solid fa-search"></i> Find Sustainable Recipes
                </button>

                <div class="loading-spinner" id="recipeLoading" style="display: none;">
                    <div class="spinner"></div>
                    <p>Finding eco-friendly recipes...</p>
                </div>

                <div id="recipeResults" class="recipe-results">
                    <!-- Results populate here -->
                </div>
            </section>

            <!-- Tool: Seasonal Eating -->
            <section id="seasonal" class="tool-section">
                <div class="tool-header">
                    <h2><i class="fas fa-calendar-check"></i> Seasonal Produce Guide</h2>
                    <p>Eating seasonally reduces transport emissions and supports local farmers</p>
                </div>

                <div class="seasonal-container">
                    <div class="seasonal-info-card">
                        <div class="info-header">
                            <h3>This Month's Star</h3>
                            <div class="month-indicator">November</div>
                        </div>
                        <div class="star-produce">
                            <div class="star-item">
                                <i class="fas fa-apple-alt"></i>
                                <span>Apples</span>
                                <small>Local orchards are harvesting now</small>
                            </div>
                            <div class="star-item">
                                <i class="fas fa-pumpkin"></i>
                                <span>Pumpkins</span>
                                <small>Perfect for soups and roasts</small>
                            </div>
                        </div>
                    </div>

                    <div class="seasonal-wheel-container">
                        <h3>In Season Now</h3>
                        <div class="seasonal-wheel">
                            <span class="seasonal-item" data-benefit="rich-in-fiber">Apples</span>
                            <span class="seasonal-item" data-benefit="vitamin-a">Pumpkins</span>
                            <span class="seasonal-item" data-benefit="antioxidants">Squash</span>
                            <span class="seasonal-item" data-benefit="iron-rich">Kale</span>
                            <span class="seasonal-item" data-benefit="vitamin-c">Brussels Sprouts</span>
                            <span class="seasonal-item" data-benefit="fiber">Pears</span>
                            <span class="seasonal-item" data-benefit="antioxidants">Cranberries</span>
                            <span class="seasonal-item" data-benefit="vitamin-k">Broccoli</span>
                        </div>
                        <p class="seasonal-tip">
                            <i class="fas fa-leaf"></i>
                            Buying seasonal produce can reduce carbon footprint by up to 10x compared to imported alternatives
                        </p>
                    </div>
                </div>
            </section>

            <!-- Tool: Shopping List -->
            <section id="shoppingList" class="tool-section">
                <div class="tool-header">
                    <h2><i class="fas fa-list-check"></i> Eco Shopping List</h2>
                    <p>Smart aisle organization with sustainability tips</p>
                </div>

                <div class="shopping-controls">
                    <button class="btn btn-secondary" id="clearListBtn">
                        <i class="fas fa-trash"></i> Clear All
                    </button>
                    <button class="btn btn-secondary" id="printListBtn">
                        <i class="fas fa-print"></i> Print List
                    </button>
                    <button class="btn btn-secondary" id="saveListBtn">
                        <i class="fas fa-save"></i> Save List
                    </button>
                </div>

                <div id="shoppingListItems" class="shopping-list-container">
                    <div class="aisle-section">
                        <h4><i class="fas fa-seedling"></i> Produce</h4>
                        <div class="shopping-items">
                            <!-- Items will populate here -->
                        </div>
                        <div class="aisle-tip">
                            <i class="fas fa-lightbulb"></i>
                            Choose loose produce to avoid plastic packaging
                        </div>
                    </div>
                    
                    <div class="aisle-section">
                        <h4><i class="fas fa-wheat-awn"></i> Grains & Pantry</h4>
                        <div class="shopping-items">
                            <!-- Items will populate here -->
                        </div>
                    </div>
                    
                    <div class="shopping-summary">
                        <div class="summary-item">
                            <span>Items:</span>
                            <strong id="itemCount">0</strong>
                        </div>
                        <div class="summary-item">
                            <span>Estimated CO₂ Saved:</span>
                            <strong id="co2Saved">0 kg</strong>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Eco Impact Calculator -->
        <section class="eco-impact">
            <h2>Your Sustainable Impact</h2>
            <div class="impact-cards">
                <div class="impact-card">
                    <i class="fas fa-cloud"></i>
                    <h3>CO₂ Reduced</h3>
                    <p class="impact-value" id="co2Reduced">0 kg</p>
                    <small>Equivalent to planting 0 trees</small>
                </div>
                <div class="impact-card">
                    <i class="fas fa-trash"></i>
                    <h3>Food Waste Prevented</h3>
                    <p class="impact-value" id="wastePrevented">0 kg</p>
                    <small>That's 0 meals saved!</small>
                </div>
                <div class="impact-card">
                    <i class="fas fa-tint"></i>
                    <h3>Water Saved</h3>
                    <p class="impact-value" id="waterSaved">0 L</p>
                    <small>Enough for 0 showers</small>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer Placeholder -->
    <div id="footer-container"></div>

    <!-- Scripts -->
    <script src="../js/main.js"></script>
    <script src="../js/pages/eco-chef.js"></script>

    <!-- Theme and Components Loading -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Theme Toggle
            const themeToggle = document.getElementById('themeToggle');
            const body = document.body;
            const savedTheme = localStorage.getItem('theme') || 'light';

            if (savedTheme === 'dark') {
                body.classList.add('dark-theme');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }

            themeToggle.addEventListener('click', () => {
                if (body.classList.contains('dark-theme')) {
                    body.classList.remove('dark-theme');
                    themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                    localStorage.setItem('theme', 'light');
                } else {
                    body.classList.add('dark-theme');
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                    localStorage.setItem('theme', 'dark');
                }
            });

            // Load Components
            fetch('../components/navbar.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('navbar-container').innerHTML = data;
                    // Initialize navbar scripts if needed
                    if (typeof initNavbar === 'function') initNavbar();
                })
                .catch(error => console.log('Navbar loading failed:', error));

            fetch('../components/footer.html')
                .then(response => response.text())
                .then(data => document.getElementById('footer-container').innerHTML = data)
                .catch(error => console.log('Footer loading failed:', error));

            // Tool Navigation
            const featureCards = document.querySelectorAll('.feature-card');
            const toolSections = document.querySelectorAll('.tool-section');

            featureCards.forEach(card => {
                card.addEventListener('click', () => {
                    const targetId = card.getAttribute('data-target');
                    
                    // Update active feature card
                    featureCards.forEach(c => c.classList.remove('active'));
                    card.classList.add('active');
                    
                    // Show corresponding tool section
                    toolSections.forEach(section => {
                        section.classList.remove('active');
                        if (section.id === targetId) {
                            section.classList.add('active');
                        }
                    });
                    
                    // Smooth scroll to section
                    document.getElementById(targetId).scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'start'
                    });
                });
            });
        });
    </script>
</body>

</html>