<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Adoption & Foster Care Management - EcoLife</title>
  <link rel="stylesheet" href="../css/global/variables.css">
  <link rel="stylesheet" href="../css/global/utilities.css">
  <link rel="stylesheet" href="../css/components/navbar.css">
  <link rel="stylesheet" href="../css/components/footer.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #1f2937 0%, #6366f1 50%, #f59e0b 100%); color: #0f172a; }

    .hero { background: linear-gradient(120deg, rgba(99,102,241,0.92), rgba(245,158,11,0.9)); color: #fff; padding: 82px 20px 48px; text-align: center; position: relative; overflow: hidden; }
    .hero::after { content: ""; position: absolute; width: 320px; height: 320px; border-radius: 50%; background: rgba(255,255,255,0.06); bottom: -120px; right: 12%; filter: blur(2px); }
    .hero h1 { font-size: 3rem; margin-bottom: 10px; letter-spacing: -0.4px; }
    .hero p { font-size: 1.1rem; opacity: 0.95; max-width: 820px; margin: 0 auto; }

    .container { max-width: 1400px; margin: 0 auto; padding: 0 20px; }
    .nav-tabs { display: flex; gap: 12px; margin: 26px 0; flex-wrap: wrap; justify-content: center; }
    .nav-tab { padding: 14px 22px; background: #fff; border: 1px solid rgba(15,23,42,0.08); border-radius: 999px; cursor: pointer; font-weight: 700; color: #0f172a; box-shadow: 0 12px 32px rgba(0,0,0,0.06); transition: all 0.25s; }
    .nav-tab:hover { transform: translateY(-1px); box-shadow: 0 16px 40px rgba(0,0,0,0.08); }
    .nav-tab.active { background: linear-gradient(120deg, #6366f1, #f59e0b); color: #fff; border-color: transparent; }

    .main-content { display: grid; grid-template-columns: 1fr 340px; gap: 32px; margin: 34px 0 60px; }
    .content-area { display: flex; flex-direction: column; gap: 24px; }
    .sidebar { display: flex; flex-direction: column; gap: 20px; }

    .card { background: #fff; border-radius: 20px; padding: 24px; box-shadow: 0 18px 48px rgba(15,23,42,0.12); border: 1px solid rgba(15,23,42,0.05); }
    .card h3 { margin-bottom: 12px; color: #0f172a; font-size: 1.05rem; display: flex; align-items: center; gap: 10px; }

    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px; }
    .stat { padding: 18px; border-radius: 16px; background: linear-gradient(135deg, #eef2ff, #fff7ed); border: 1px solid rgba(99,102,241,0.18); }
    .stat strong { display: block; font-size: 1.8rem; color: #6366f1; }
    .stat span { color: #475569; font-size: 0.95rem; }

    .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); gap: 18px; }
    .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; }

    .tag { display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 12px; font-weight: 700; font-size: 0.85rem; }
    .tag.green { background: #ecfdf3; color: #16a34a; }
    .tag.orange { background: #fff7ed; color: #c2410c; }
    .tag.blue { background: #e0f2fe; color: #0284c7; }
    .tag.gray { background: #f1f5f9; color: #475569; }

    .pill { display: inline-block; padding: 5px 10px; border-radius: 999px; font-size: 0.8rem; font-weight: 700; background: #eef2ff; color: #4338ca; }

    .table-like { width: 100%; border-collapse: collapse; }
    .table-like th, .table-like td { padding: 12px 10px; text-align: left; border-bottom: 1px solid rgba(15,23,42,0.06); font-size: 0.92rem; }
    .table-like th { color: #0f172a; }
    .table-like td { color: #475569; }

    .profile-card { background: #f8fafc; padding: 16px; border-radius: 14px; border: 1px solid rgba(15,23,42,0.06); display: grid; gap: 6px; }
    .compat-row { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 6px; }

    .timeline { list-style: none; display: grid; gap: 12px; }
    .timeline-item { display: grid; gap: 6px; padding: 14px; background: #f8fafc; border-radius: 14px; border: 1px solid rgba(15,23,42,0.06); }

    .progress-bar { width: 100%; height: 10px; border-radius: 999px; background: #e2e8f0; overflow: hidden; }
    .progress-fill { height: 100%; border-radius: 999px; background: linear-gradient(120deg, #6366f1, #f59e0b); }

    .sidebar-card { background: #fff; padding: 20px; border-radius: 18px; box-shadow: 0 14px 38px rgba(15,23,42,0.1); border: 1px solid rgba(15,23,42,0.05); }
    .sidebar-card h4 { margin-bottom: 12px; color: #0f172a; }
    .kpi { display: flex; align-items: center; justify-content: space-between; padding: 10px 0; border-bottom: 1px dashed rgba(15,23,42,0.08); }
    .kpi:last-child { border-bottom: none; }

    .btn { display: inline-flex; align-items: center; gap: 8px; padding: 12px 14px; border-radius: 12px; border: none; background: linear-gradient(120deg, #6366f1, #f59e0b); color: #fff; font-weight: 700; cursor: pointer; box-shadow: 0 12px 28px rgba(99,102,241,0.3); transition: transform 0.2s; }
    .btn:hover { transform: translateY(-1px); }

    .chart-box { background: #fff; border-radius: 18px; padding: 18px; box-shadow: 0 16px 42px rgba(15,23,42,0.1); border: 1px solid rgba(15,23,42,0.06); }

    @media (max-width: 1024px) { .main-content { grid-template-columns: 1fr; } .nav-tabs { justify-content: flex-start; } }
    @media (max-width: 640px) { .hero h1 { font-size: 2.3rem; } .grid-2 { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <div id="navbar-container"></div>

  <div class="hero">
    <div class="container">
      <h1><i class="fas fa-hand-holding-heart"></i> Adoption & Foster Care Management</h1>
      <p>Track adoptable animals, vet applicants, manage foster placements, automate compatibility, and monitor adoption impact end-to-end.</p>
    </div>
  </div>

  <div class="container">
    <div class="nav-tabs">
      <button class="nav-tab active" onclick="showSection('dashboard', this)"><i class="fas fa-chart-line"></i> Dashboard</button>
      <button class="nav-tab" onclick="showSection('animals', this)"><i class="fas fa-paw"></i> Animals</button>
      <button class="nav-tab" onclick="showSection('applications', this)"><i class="fas fa-file-signature"></i> Applications</button>
      <button class="nav-tab" onclick="showSection('foster', this)"><i class="fas fa-house-user"></i> Foster</button>
      <button class="nav-tab" onclick="showSection('matching', this)"><i class="fas fa-heartbeat"></i> Matching</button>
      <button class="nav-tab" onclick="showSection('timeline', this)"><i class="fas fa-calendar-alt"></i> Timeline</button>
      <button class="nav-tab" onclick="showSection('finance', this)"><i class="fas fa-wallet"></i> Finance</button>
      <button class="nav-tab" onclick="showSection('analytics', this)"><i class="fas fa-chart-pie"></i> Analytics</button>
    </div>

    <div class="main-content">
      <div class="content-area">
        <div id="dashboard" class="content-section card active">
          <h3><i class="fas fa-bolt"></i> Impact Snapshot</h3>
          <div class="stats-grid" id="statGrid"></div>
          <div class="grid-2" style="margin-top:14px;">
            <div class="card" style="padding:18px;">
              <h3><i class="fas fa-lightbulb"></i> Recommendations</h3>
              <ul class="timeline" id="recommendations"></ul>
            </div>
            <div class="card" style="padding:18px;">
              <h3><i class="fas fa-clipboard-check"></i> Vetting Queue</h3>
              <ul class="timeline" id="vettingQueue"></ul>
            </div>
          </div>
        </div>

        <div id="animals" class="content-section card" style="display:none;">
          <h3><i class="fas fa-paw"></i> Adoptable & Foster Animals</h3>
          <div class="grid-3" id="animalGrid"></div>
        </div>

        <div id="applications" class="content-section card" style="display:none;">
          <h3><i class="fas fa-file-signature"></i> Adoption Applications</h3>
          <div id="applicationTable"></div>
          <div style="margin-top:14px; display:flex; gap:10px; flex-wrap:wrap;">
            <button class="btn"><i class="fas fa-filter"></i> Filter by Risk</button>
            <button class="btn"><i class="fas fa-user-check"></i> Run Background Check</button>
          </div>
        </div>

        <div id="foster" class="content-section card" style="display:none;">
          <h3><i class="fas fa-house-user"></i> Foster Placements & Health</h3>
          <div class="grid-2">
            <div class="card" style="padding:18px;">
              <h3><i class="fas fa-users"></i> Foster Families</h3>
              <div id="fosterFamilies"></div>
            </div>
            <div class="card" style="padding:18px;">
              <h3><i class="fas fa-notes-medical"></i> Health Tracking</h3>
              <div id="healthTracking"></div>
            </div>
          </div>
        </div>

        <div id="matching" class="content-section card" style="display:none;">
          <h3><i class="fas fa-heartbeat"></i> Compatibility Matching</h3>
          <div class="grid-2">
            <div class="card" style="padding:18px;">
              <h3><i class="fas fa-magic"></i> Automated Matches</h3>
              <div id="matchResults"></div>
            </div>
            <div class="card" style="padding:18px;">
              <h3><i class="fas fa-thumbs-up"></i> Adoption Recommendations</h3>
              <ul class="timeline" id="adoptionRecommendations"></ul>
            </div>
          </div>
        </div>

        <div id="timeline" class="content-section card" style="display:none;">
          <h3><i class="fas fa-calendar-alt"></i> Adoption & Follow-up Timeline</h3>
          <ul class="timeline" id="timelineList"></ul>
        </div>

        <div id="finance" class="content-section card" style="display:none;">
          <h3><i class="fas fa-wallet"></i> Fees & Stipends</h3>
          <div class="grid-2">
            <div class="card" style="padding:18px;">
              <h3><i class="fas fa-receipt"></i> Adoption Fees</h3>
              <div id="feeTable"></div>
            </div>
            <div class="card" style="padding:18px;">
              <h3><i class="fas fa-hand-holding-usd"></i> Foster Stipends</h3>
              <div id="stipendTable"></div>
            </div>
          </div>
        </div>

        <div id="analytics" class="content-section card" style="display:none;">
          <h3><i class="fas fa-chart-pie"></i> Impact Analytics</h3>
          <div class="grid-2">
            <div class="chart-box">
              <h4 style="margin-bottom:10px; color:#0f172a;">Adoption Funnel</h4>
              <canvas id="funnelChart" height="220"></canvas>
            </div>
            <div class="chart-box">
              <h4 style="margin-bottom:10px; color:#0f172a;">Fees vs Stipends</h4>
              <canvas id="financeChart" height="220"></canvas>
            </div>
          </div>
        </div>
      </div>

      <div class="sidebar">
        <div class="sidebar-card">
          <h4><i class="fas fa-bullseye"></i> Quick KPIs</h4>
          <div class="kpi"><span>Approval Rate</span><span class="tag green">82%</span></div>
          <div class="kpi"><span>Avg Vetting Time</span><span class="tag blue">3.1 days</span></div>
          <div class="kpi"><span>Return/Readoption</span><span class="tag orange">4 cases</span></div>
          <div class="kpi"><span>Follow-up Completion</span><span class="tag green">91%</span></div>
        </div>
        <div class="sidebar-card">
          <h4><i class="fas fa-book-open"></i> Foster Guidelines</h4>
          <ul class="timeline" id="guidelines"></ul>
        </div>
        <div class="sidebar-card">
          <h4><i class="fas fa-star"></i> Recent Success</h4>
          <ul class="timeline" id="successStories"></ul>
        </div>
        <div class="sidebar-card">
          <h4><i class="fas fa-bolt"></i> Quick Actions</h4>
          <div style="display:grid; gap:10px;">
            <button class="btn"><i class="fas fa-plus"></i> New Application</button>
            <button class="btn"><i class="fas fa-user-shield"></i> Vet Applicant</button>
            <button class="btn"><i class="fas fa-download"></i> Export Reports</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const stats = [
      { label: 'Adoptable Animals', value: 48 },
      { label: 'Active Foster Placements', value: 26 },
      { label: 'Pending Applications', value: 17 },
      { label: 'Success Rate', value: '92%' },
      { label: 'Avg. Days to Adopt', value: 16 },
      { label: 'Follow-up Completion', value: '91%' }
    ];

    const recommendations = [
      'Prioritize medical-need animals for featured listing this week.',
      'Pair shy cats with foster families experienced in low-stim homes.',
      'Trigger vetting escalation for applicants with prior returns.',
      'Offer fee waiver weekend for seniors and bonded pairs.'
    ];

    const vettingQueue = [
      { name: 'Alex Carter', stage: 'Background Check', risk: 'Medium' },
      { name: 'Priya Nair', stage: 'Home Visit', risk: 'Low' },
      { name: 'Jordan Lee', stage: 'Reference Calls', risk: 'High' }
    ];

    const animals = [
      { name: 'Luna', type: 'Dog', age: '2y', status: 'Available', compatibility: ['Calm homes', 'Kids 10+'], score: 87 },
      { name: 'Milo', type: 'Cat', age: '1y', status: 'Foster', compatibility: ['Indoor', 'Cat-friendly'], score: 78 },
      { name: 'Rex', type: 'Dog', age: '4y', status: 'Pending', compatibility: ['Yard', 'Active'], score: 69 },
      { name: 'Poppy', type: 'Rabbit', age: '8m', status: 'Available', compatibility: ['Quiet', 'All ages'], score: 74 },
      { name: 'Nova', type: 'Dog', age: '3y', status: 'Available', compatibility: ['Solo pet', 'Experienced'], score: 82 },
      { name: 'Ziggy', type: 'Cat', age: '5y', status: 'Foster', compatibility: ['Calm', 'No dogs'], score: 71 }
    ];

    const applications = [
      { applicant: 'Morgan Steele', animal: 'Luna', stage: 'Review', vetting: 'Clean', status: 'Submitted', risk: 'Low' },
      { applicant: 'Kai Turner', animal: 'Rex', stage: 'Background', vetting: 'Pending', status: 'Under Review', risk: 'Medium' },
      { applicant: 'Sara Kim', animal: 'Milo', stage: 'Home Visit', vetting: 'Clean', status: 'Approved', risk: 'Low' },
      { applicant: 'Diego Ramos', animal: 'Nova', stage: 'References', vetting: 'Flag', status: 'Under Review', risk: 'High' }
    ];

    const fosterFamilies = [
      { family: 'Carter Family', animals: ['Milo'], duration: '3 wks', stipend: '$120', status: 'On Track' },
      { family: 'Nguyen Home', animals: ['Ziggy'], duration: '2 wks', stipend: '$90', status: 'Needs Check' },
      { family: 'Lopez Haven', animals: ['Rex'], duration: '5 wks', stipend: '$200', status: 'At Risk' }
    ];

    const healthLogs = [
      { animal: 'Milo', note: 'Completed vaccinations; appetite normal.', risk: 'Low' },
      { animal: 'Ziggy', note: 'Mild stress indicators; add enrichment.', risk: 'Medium' },
      { animal: 'Rex', note: 'Hip soreness monitored; vet check booked.', risk: 'High' }
    ];

    const matches = [
      { family: 'Smiths', animal: 'Nova', score: 91, notes: 'Experienced with reactive dogs; fenced yard.' },
      { family: 'Patel', animal: 'Poppy', score: 86, notes: 'Calm apartment; kids over 12.' },
      { family: 'Green', animal: 'Luna', score: 79, notes: 'Runner lifestyle; loves training.' }
    ];

    const adoptionRecs = [
      'Promote bonded pairs with reduced fees to boost placements.',
      'Schedule behavior consult for high-energy dogs before match.',
      'Bundle starter kit discount with each first-time adopter.'
    ];

    const timeline = [
      { title: 'Application Submitted', when: 'Day 0', status: 'Done' },
      { title: 'Background + References', when: 'Day 2', status: 'In Progress' },
      { title: 'Home Visit', when: 'Day 4', status: 'Scheduled' },
      { title: 'Placement & Paperwork', when: 'Day 6', status: 'Planned' },
      { title: 'Post-Adoption Check', when: 'Day 14', status: 'Planned' },
      { title: '30-day Follow-up', when: 'Day 30', status: 'Planned' }
    ];

    const fees = [
      { tier: 'Standard', amount: '$180', covers: 'Vaccines, microchip, paperwork', waived: 'Seniors weekend' },
      { tier: 'Medical Needs', amount: '$90', covers: 'Chronic care support', waived: 'Case-by-case' },
      { tier: 'Bonded Pair', amount: '$250', covers: 'Dual adoption pack', waived: 'Holiday drive' }
    ];

    const stipends = [
      { family: 'Carter Family', amount: '$120', frequency: 'Weekly', status: 'Sent' },
      { family: 'Nguyen Home', amount: '$90', frequency: 'Weekly', status: 'Pending' },
      { family: 'Lopez Haven', amount: '$200', frequency: 'Bi-weekly', status: 'Scheduled' }
    ];

    const guidelines = [
      'Daily health check-ins and appetite logs.',
      'Secure introductions for multi-pet homes.',
      'Behavior notes shared after each session.',
      'Emergency contact sheet on fridge.',
      'Transport in crash-tested carriers only.'
    ];

    const successStories = [
      'Buddy completed 90-day follow-up with zero incidents.',
      'Luna transitioned from foster to adoption in 12 days.',
      'Poppy bonded with adopter after compatibility match score 86.'
    ];

    const funnelData = [210, 147, 118, 96];
    const financeData = {
      labels: ['Fees Collected', 'Stipends Paid'],
      values: [7420, 3960]
    };

    function showSection(id, el) {
      document.querySelectorAll('.content-section').forEach(section => {
        section.style.display = section.id === id ? 'block' : 'none';
        section.classList.toggle('active', section.id === id);
      });
      document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
      if (el) el.classList.add('active');
    }

    function renderStats() {
      const grid = document.getElementById('statGrid');
      grid.innerHTML = stats.map(s => `
        <div class="stat">
          <strong>${s.value}</strong>
          <span>${s.label}</span>
        </div>
      `).join('');
    }

    function renderRecommendations() {
      const list = document.getElementById('recommendations');
      list.innerHTML = recommendations.map(r => `<li class="timeline-item">${r}</li>`).join('');
    }

    function renderVetting() {
      const list = document.getElementById('vettingQueue');
      list.innerHTML = vettingQueue.map(v => `
        <li class="timeline-item">
          <div style="font-weight:700; color:#0f172a;">${v.name}</div>
          <div style="color:#475569;">Stage: ${v.stage}</div>
          <span class="tag ${v.risk === 'High' ? 'orange' : v.risk === 'Medium' ? 'blue' : 'green'}">${v.risk} risk</span>
        </li>
      `).join('');
    }

    function renderAnimals() {
      const grid = document.getElementById('animalGrid');
      grid.innerHTML = animals.map(a => `
        <div class="profile-card">
          <div style="display:flex; align-items:center; justify-content:space-between;">
            <div style="font-weight:700; color:#0f172a;">${a.name} · ${a.type}</div>
            <span class="pill">${a.age}</span>
          </div>
          <div class="compat-row">
            ${a.compatibility.map(c => `<span class="tag gray">${c}</span>`).join('')}
          </div>
          <div style="display:flex; align-items:center; justify-content:space-between; margin-top:8px;">
            <span class="tag ${a.status === 'Available' ? 'green' : a.status === 'Foster' ? 'blue' : 'orange'}">${a.status}</span>
            <div style="width:120px;">
              <div class="progress-bar"><div class="progress-fill" style="width:${a.score}%;"></div></div>
              <div style="font-size:0.8rem; color:#475569;">Match ${a.score}%</div>
            </div>
          </div>
        </div>
      `).join('');
    }

    function renderApplications() {
      const host = document.getElementById('applicationTable');
      host.innerHTML = `
        <table class="table-like">
          <thead><tr><th>Applicant</th><th>Animal</th><th>Stage</th><th>Vetting</th><th>Status</th><th>Risk</th></tr></thead>
          <tbody>
            ${applications.map(app => `
              <tr>
                <td>${app.applicant}</td>
                <td>${app.animal}</td>
                <td>${app.stage}</td>
                <td>${app.vetting}</td>
                <td>${app.status}</td>
                <td><span class="tag ${app.risk === 'High' ? 'orange' : app.risk === 'Medium' ? 'blue' : 'green'}">${app.risk}</span></td>
              </tr>
            `).join('')}
          </tbody>
        </table>
      `;
    }

    function renderFoster() {
      const families = document.getElementById('fosterFamilies');
      families.innerHTML = fosterFamilies.map(f => `
        <div class="profile-card">
          <div style="font-weight:700; color:#0f172a;">${f.family}</div>
          <div style="color:#475569;">Animals: ${f.animals.join(', ')}</div>
          <div style="color:#475569;">Duration: ${f.duration}</div>
          <div style="color:#475569;">Stipend: ${f.stipend}</div>
          <span class="tag ${f.status === 'At Risk' ? 'orange' : f.status === 'Needs Check' ? 'blue' : 'green'}">${f.status}</span>
        </div>
      `).join('');

      const health = document.getElementById('healthTracking');
      health.innerHTML = healthLogs.map(h => `
        <div class="profile-card">
          <div style="font-weight:700; color:#0f172a;">${h.animal}</div>
          <div style="color:#475569;">${h.note}</div>
          <span class="tag ${h.risk === 'High' ? 'orange' : h.risk === 'Medium' ? 'blue' : 'green'}">${h.risk}</span>
        </div>
      `).join('');
    }

    function renderMatching() {
      const host = document.getElementById('matchResults');
      host.innerHTML = matches.map(m => `
        <div class="profile-card">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <div style="font-weight:700; color:#0f172a;">${m.family} ↔ ${m.animal}</div>
            <span class="tag green">${m.score}%</span>
          </div>
          <div style="color:#475569;">${m.notes}</div>
        </div>
      `).join('');

      const recList = document.getElementById('adoptionRecommendations');
      recList.innerHTML = adoptionRecs.map(r => `<li class="timeline-item">${r}</li>`).join('');
    }

    function renderTimeline() {
      const list = document.getElementById('timelineList');
      list.innerHTML = timeline.map(t => `
        <li class="timeline-item">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <span style="font-weight:700; color:#0f172a;">${t.title}</span>
            <span class="pill">${t.when}</span>
          </div>
          <span class="tag ${t.status === 'Done' ? 'green' : t.status === 'In Progress' ? 'blue' : 'orange'}">${t.status}</span>
        </li>
      `).join('');
    }

    function renderFinance() {
      const feeHost = document.getElementById('feeTable');
      feeHost.innerHTML = `
        <table class="table-like">
          <thead><tr><th>Tier</th><th>Amount</th><th>Covers</th><th>Waived</th></tr></thead>
          <tbody>
            ${fees.map(f => `
              <tr>
                <td>${f.tier}</td>
                <td>${f.amount}</td>
                <td>${f.covers}</td>
                <td>${f.waived}</td>
              </tr>
            `).join('')}
          </tbody>
        </table>
      `;

      const stipendHost = document.getElementById('stipendTable');
      stipendHost.innerHTML = `
        <table class="table-like">
          <thead><tr><th>Family</th><th>Amount</th><th>Frequency</th><th>Status</th></tr></thead>
          <tbody>
            ${stipends.map(s => `
              <tr>
                <td>${s.family}</td>
                <td>${s.amount}</td>
                <td>${s.frequency}</td>
                <td><span class="tag ${s.status === 'Sent' ? 'green' : s.status === 'Scheduled' ? 'blue' : 'orange'}">${s.status}</span></td>
              </tr>
            `).join('')}
          </tbody>
        </table>
      `;
    }

    function renderSidebar() {
      const guideList = document.getElementById('guidelines');
      guideList.innerHTML = guidelines.map(g => `<li class="timeline-item">${g}</li>`).join('');

      const successList = document.getElementById('successStories');
      successList.innerHTML = successStories.map(s => `<li class="timeline-item">${s}</li>`).join('');
    }

    function renderCharts() {
      const funnelCtx = document.getElementById('funnelChart').getContext('2d');
      new Chart(funnelCtx, {
        type: 'bar',
        data: {
          labels: ['Applicants', 'Qualified', 'Approved', 'Adopted'],
          datasets: [{
            label: 'Count',
            data: funnelData,
            backgroundColor: ['#6366f1', '#22c55e', '#f59e0b', '#0ea5e9']
          }]
        },
        options: { plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true } } }
      });

      const financeCtx = document.getElementById('financeChart').getContext('2d');
      new Chart(financeCtx, {
        type: 'doughnut',
        data: {
          labels: financeData.labels,
          datasets: [{ data: financeData.values, backgroundColor: ['#10b981', '#f97316'] }]
        },
        options: { cutout: '60%' }
      });
    }

    renderStats();
    renderRecommendations();
    renderVetting();
    renderAnimals();
    renderApplications();
    renderFoster();
    renderMatching();
    renderTimeline();
    renderFinance();
    renderSidebar();
    renderCharts();
  </script>
</body>
</html>
